<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Spatial Reference Model C API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body bgcolor="#ffffff">
<!-- SRM C++ SDK -->
<!-- SRM spec. 4.1 -->


<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindexHL" href="main.htm">Main&nbsp;Page</a> | <a class="qindex" href="classes.htm">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.htm">Compound&nbsp;List</a> | <a class="qindex" href="files.htm">File&nbsp;List</a> | <a class="qindex" href="functions.htm">Compound&nbsp;Members</a> | <a class="qindex" href="globals.htm">File&nbsp;Members</a></div>
<h1>Spatial Reference Model (SRM) C API </h1>
<p>
<h3 align="center">Version: 4.1.4 </h3><h2><a name="Introduction"></a>
Introduction</h2>
This is the documentation for the SRM C API.<p>
The SRM C API provides the following functionality:<ul>
<li>Creation<ul>
<li>SRFs<ul>
<li>SRF templates (e.g., LSR 3D, TM, Celestiondetic, Celestiocentric)</li><li>SRF set members (e.g., UTM zone 12, GTRS cell 1234, UPS northern pole)</li><li>SRFs (e.g., British National Grid)</li></ul>
</li><li>Coordinates<ul>
<li>2D coordinate</li><li>3D coordinate</li><li>Surface coordinate</li></ul>
</li><li>Directions</li><li>Orientations</li></ul>
</li><li>Conversion<ul>
<li>Coordinate conversion between SRFs</li><li>Direction conversion between SRFs</li><li>Orientation conversion between SRFs</li></ul>
</li><li>Validation<ul>
<li>Coordinate validation within a SRF</li><li>Direction validation within a SRF</li><li>Orientation validation within a SRF</li></ul>
</li><li>Calculations<ul>
<li>Euclidean distance</li><li>Geodesic distance</li><li>Point scale</li><li>Vertical separation offset</li><li>Convergence of the Meridian</li><li>Map azimuth</li></ul>
</li><li>Abstract space coordinate instancing in a SRF</li></ul>
<p>
A sample program to convert a Celestiodetic 3D coordinate to a Celestiocentric 3D coordinate is as follows: <div class="fragment"><pre><span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;string.h&gt;</span>

<span class="preprocessor">#include "<a class="code" href="a00217.htm">srm.h</a>"</span>


<span class="keywordtype">int</span> main
(
    <span class="keywordtype">int</span>   argc,
    <span class="keywordtype">char</span> *argv[]
)
{
    <a class="code" href="a00263.htm#a1122">SRM_Coordinate_Valid_Region</a> val_region;

    <a class="code" href="a00113.htm">SRM_Celestiocentric</a> cc_srf;
    <a class="code" href="a00114.htm">SRM_Celestiodetic</a>   cd_srf;
    <a class="code" href="a00121.htm">SRM_Coordinate3D</a>    cc_coord;
    <a class="code" href="a00121.htm">SRM_Coordinate3D</a>    cd_coord;
    <a class="code" href="a00259.htm#a17">SRM_Long_Float</a>      ord1,ord2,ord3;

    printf( <span class="stringliteral">"Running SRM Sample test program...\n"</span> );

    <span class="keywordflow">if</span> (<a class="code" href="a00225.htm#a1">SRM_CD_Create</a>(SRM_ORMCOD_WGS_1984,
                      SRM_RTCOD_WGS_1984_IDENTITY,
                      &amp;cd_srf) != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a>)
        fprintf( stderr, <span class="stringliteral">"Failed to create CD SRF\n"</span> );
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span> (<a class="code" href="a00224.htm#a1">SRM_CC_Create</a>(SRM_ORMCOD_WGS_1984,
                          SRM_RTCOD_WGS_1984_IDENTITY,
                          &amp;cc_srf ) != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a> )
            fprintf( stderr, <span class="stringliteral">"Failed to create CC SRF\n"</span> );
        <span class="keywordflow">else</span>
        {
            <span class="keywordflow">if</span> ( cd_srf.<a class="code" href="a00114.htm#o1">methods</a>-&gt;<a class="code" href="a00111.htm#o11">CreateCoordinate3D</a>( &amp;cd_srf,
                                                    0.0,
                                                    0.785398163397,
                                                    0.0,
                                                   &amp;cd_coord ) != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a> )
                fprintf( stderr, <span class="stringliteral">"Failed to create CD coordinate\n"</span> );
            <span class="keywordflow">else</span>
            {
                <span class="keywordflow">if</span> ( cc_srf.<a class="code" href="a00113.htm#o1">methods</a>-&gt;<a class="code" href="a00109.htm#o10">CreateCoordinate3D</a>( &amp;cc_srf,
                                                        0.0,
                                                        0.0,
                                                        0.0,
                                                        &amp;cc_coord ) != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a> )
                    fprintf( stderr, <span class="stringliteral">"Failed to create CC coordinate\n"</span> );
                <span class="keywordflow">else</span>
                {
                    <span class="keywordflow">if</span> ( cc_srf.<a class="code" href="a00113.htm#o1">methods</a>-&gt;<a class="code" href="a00109.htm#o0">ChangeCoordinate3DSRF</a>( &amp;cc_srf,
                                                                &amp;cd_srf,
                                                                &amp;cd_coord,
                                                                &amp;cc_coord,
                                                                &amp;val_region)
                         != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a> )
                        fprintf( stderr, <span class="stringliteral">"SRM_ChangeCoordinateSRF failed\n"</span> );
                    <span class="keywordflow">else</span>
                    {
                        <span class="keywordflow">if</span> ( cc_srf.<a class="code" href="a00113.htm#o1">methods</a>-&gt;<a class="code" href="a00109.htm#o18">GetCoordinate3DValues</a>( &amp;cc_srf,
                                                                    &amp;cc_coord,
                                                                    &amp;ord1,
                                                                    &amp;ord2,
                                                                    &amp;ord3 ) != <a class="code" href="a00263.htm#a1053">SRM_STATCOD_SUCCESS</a> )
                            fprintf( stderr, <span class="stringliteral">"Failed getting the CC coordinate values\n"</span> );

                        <span class="keywordflow">else</span>
                            printf(<span class="stringliteral">"[ %lf, %lf, %lf ]\n\n"</span>, ord1, ord2, ord3 );
                    }
                    cc_srf.<a class="code" href="a00113.htm#o1">methods</a>-&gt;<a class="code" href="a00109.htm#o14">DestroyCoordinate3D</a>(&amp;cc_srf,
                                                        &amp;cc_coord);
                }
                cd_srf.<a class="code" href="a00114.htm#o1">methods</a>-&gt;<a class="code" href="a00111.htm#o17">DestroyCoordinate3D</a>(&amp;cd_srf,
                                                    &amp;cd_coord);
            }
            cc_srf.<a class="code" href="a00113.htm#o1">methods</a>-&gt;<a class="code" href="a00109.htm#o13">Destroy</a>(&amp;cc_srf);
        }
        cd_srf.<a class="code" href="a00114.htm#o1">methods</a>-&gt;<a class="code" href="a00111.htm#o16">Destroy</a>(&amp;cd_srf);
    }
    <span class="keywordflow">return</span> 0;
}
</pre></div><p>
Running the sample program above will produce the output as follows: <div class="fragment"><pre>
Running SRM Sample test program...
[ 4517590.878846, 0.000000, 4487348.408859 ]
</pre></div><hr size="1">
<table width="100%">
<tr valign="middle">
<td align="left"><strong>Spatial Reference Model C API</strong></td>
<td align="right"><strong>
Version: 4.1.4 - July 1, 2011
</strong></td>
</tr>
<tr valign="middle">
<td align="left">Copyright &copy; 2011 <a href="http://www.sedris.org">SEDRIS</a>&#153;</td>
<td align="right">Docs by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.3.2</td>
</tr>
</table>
</body>
</html>
